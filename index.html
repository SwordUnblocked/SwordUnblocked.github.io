<!DOCTYPE html>
<html>
<head>
    <title>GitHub Pages with Google Login</title>
</head>
<body>
    <div id="content" style="display:none;">
        <!-- Content visible only after successful login -->
        <h1>Welcome, authenticated user!</h1>
    </div>
    <div id="signin-button"></div>

    <script src="https://apis.google.com/js/platform.js?onload=initGoogleAPI" async defer></script>
    <script>
        let clientId = 'AIzaSyChKFRT7LV1PJocipl16-g-Ry24OXiHwxE'; // Replace with your actual Client ID from Google Cloud Console

        function onSignIn(googleUser) {
            // Handling user info after successful login
            var profile = googleUser.getBasicProfile();
            console.log('User signed in:', profile.getName());

            // Hide the sign-in button and show content
            document.getElementById('signin-button').style.display = 'none';
            document.getElementById('content').style.display = 'block';
        }

        function onFailure(error) {
            console.log('Sign-in failed:', error);
        }

        function renderButton() {
            gapi.signin2.render('signin-button', {
                'scope': 'profile email',
                'width': 240,
                'height': 50,
                'longtitle': true,
                'theme': 'dark',
                'onsuccess': onSignIn,
                'onfailure': onFailure
            });
        }

        function initGoogleAPI() {
            gapi.load('auth2', function() {
                gapi.auth2.init({
                    client_id: clientId
                }).then(renderButton);
            });
        }
    </script>
</body>
</html>
